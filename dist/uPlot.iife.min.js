/*! https://github.com/leeoniya/uPlot (v1.2.0) */
var uPlot=function(){"use strict";function n(n,t,e,r){var i;e=e||0;for(var o=2147483647>=(r=r||t.length-1);r-e>1;)n>t[i=o?e+r>>1:l((e+r)/2)]?e=i:r=i;return n-t[e]>t[r]-n?r:e}function t(n,t,e){var r,i;return n==t&&(n/=10,t*=10),e?(n=r=c(10,l(h(n))),t=i=c(10,u(h(t)))):(r=c(10,l(h(n))),i=c(10,l(h(t))),n=b(n,r),t=w(t,i)),[+n.toFixed(k.get(r)),+t.toFixed(k.get(i))]}function e(n,t,e,r){if(n==t&&(null==n||0==n))return[0,100];var i=t-n,a=i||o(t)||1e3,u=h(a),s=c(10,l(u)),f=a*e,v=t+f,m=M(b(n-f,s/100)),d=M(w(v,s/100));return r&&(0==i?t>0?m=0:0>t&&(d=0):(n>=0&&0>m&&(m=0),0>=t&&d>0&&(d=0))),[m,d]}var r=new Intl.NumberFormat(navigator.language).format,i=Math,o=i.abs,l=i.floor,a=i.round,u=i.ceil,s=i.min,f=i.max,c=i.pow,h=i.log10,v=i.PI,m=1/0;function d(n,t){return a(n/t)*t}function p(n,t,e){return s(f(n,t),e)}function g(n){return"function"==typeof n?n:function(){return n}}function x(n,t){return t}function w(n,t){return u(n/t)*t}function b(n,t){return l(n/t)*t}function y(n){return a(1e3*n)/1e3}function M(n){return a(1e6*n)/1e6}var k=new Map;function S(n,t,e){for(var r=[],i=n;t>i;i++)for(var l=c(10,i),a=o(i),u=0;e.length>u;u++){var s=+(e[u]*l).toFixed(a);r.push(s),k.set(s,1>s?a:0)}return r}var T=Array.isArray;function D(n){return"object"==typeof n&&null!==n}function E(n){var t;if(T(n))t=n.map(E);else if(D(n))for(var e in t={},n)t[e]=E(n[e]);else t=n;return t}function _(n){for(var t=arguments,e=1;t.length>e;e++){var r=t[e];for(var i in r)D(n[i])?_(n[i],E(r[i])):n[i]=E(r[i])}return n}var W="width",Y="height",z="top",F="bottom",C="left",A="right",H="#000",P="mousemove",N="mousedown",I="mouseup",V="mouseenter",L="mouseleave",B="dblclick",O="resize",R="scroll",U="u-off",j="u-label",J=requestAnimationFrame,G=document,Z=window,q=devicePixelRatio;function X(n,t){null!=t&&n.classList.add(t)}function K(n,t){n.classList.remove(t)}function Q(n,t,e){n.style[t]=e+"px"}function $(n,t,e,r){var i=G.createElement(n);return null!=t&&X(i,t),null!=e&&e.insertBefore(i,r),i}function nn(n,t){return $("div",n,t)}function tn(n,t,e,r,i){n.style.transform="translate("+t+"px,"+e+"px)",0>t||0>e||t>r||e>i?X(n,U):K(n,U)}var en={passive:!0};function rn(n,t,e){t.addEventListener(n,e,en)}function on(n,t,e){t.removeEventListener(n,e,en)}var ln=["January","February","March","April","May","June","July","August","September","October","November","December"],an=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function un(n){return n.slice(0,3)}var sn=an.map(un),fn=ln.map(un),cn={MMMM:ln,MMM:fn,WWWW:an,WWW:sn};function hn(n){return(10>n?"0":"")+n}var vn={YYYY:function(n){return n.getFullYear()},YY:function(n){return(n.getFullYear()+"").slice(2)},MMMM:function(n,t){return t.MMMM[n.getMonth()]},MMM:function(n,t){return t.MMM[n.getMonth()]},MM:function(n){return hn(n.getMonth()+1)},M:function(n){return n.getMonth()+1},DD:function(n){return hn(n.getDate())},D:function(n){return n.getDate()},WWWW:function(n,t){return t.WWWW[n.getDay()]},WWW:function(n,t){return t.WWW[n.getDay()]},HH:function(n){return hn(n.getHours())},H:function(n){return n.getHours()},h:function(n){var t=n.getHours();return 0==t?12:t>12?t-12:t},AA:function(n){return 12>n.getHours()?"AM":"PM"},aa:function(n){return 12>n.getHours()?"am":"pm"},a:function(n){return 12>n.getHours()?"a":"p"},mm:function(n){return hn(n.getMinutes())},m:function(n){return n.getMinutes()},ss:function(n){return hn(n.getSeconds())},s:function(n){return n.getSeconds()},fff:function(n){return function(n){return(10>n?"00":100>n?"0":"")+n}(n.getMilliseconds())}};function mn(n,t){t=t||cn;for(var e,r=[],i=/\{([a-z]+)\}|[^{]+/gi;e=i.exec(n);)r.push("{"==e[0][0]?vn[e[1]]:e[0]);return function(n){for(var e="",i=0;r.length>i;i++)e+="string"==typeof r[i]?r[i]:r[i](n,t);return e}}var dn=(new Intl.DateTimeFormat).resolvedOptions().timeZone,pn=[1,2,5],gn=S(-16,0,pn),xn=S(0,16,pn),wn=gn.concat(xn),bn=3600,yn=24*bn,Mn=30*yn,kn=365*yn,Sn=[5e-4].concat(S(-3,0,pn),[1,5,10,15,30,60,300,600,900,1800,bn,2*bn,3*bn,4*bn,6*bn,8*bn,12*bn,yn,2*yn,3*yn,4*yn,5*yn,6*yn,7*yn,8*yn,9*yn,10*yn,15*yn,Mn,2*Mn,3*Mn,4*Mn,6*Mn,kn,2*kn,5*kn,10*kn,25*kn,50*kn,100*kn]);function Tn(n,t){return n.map((function(n){return n.map((function(e,r){return 0==r||8==r||null==e?e:t(1==r||0==n[8]?e:n[1]+e)}))}))}var Dn="{YYYY}",En="\n"+Dn,_n="{M}/{D}",Wn="\n"+_n,Yn=Wn+"/{YY}",zn="{aa}",Fn="{h}:{mm}"+zn,Cn="\n"+Fn,An=":{ss}",Hn=null,Pn=[[kn,Dn,Hn,Hn,Hn,Hn,Hn,Hn,1],[28*yn,"{MMM}",En,Hn,Hn,Hn,Hn,Hn,1],[yn,_n,En,Hn,Hn,Hn,Hn,Hn,1],[bn,"{h}"+zn,Yn,Hn,Wn,Hn,Hn,Hn,1],[60,Fn,Yn,Hn,Wn,Hn,Hn,Hn,1],[1,An,Yn+" "+Fn,Hn,Wn+" "+Fn,Hn,Cn,Hn,1],[.001,An+".{fff}",Yn+" "+Fn,Hn,Wn+" "+Fn,Hn,Cn,Hn,1]];function Nn(n,t){return function(e,r,i,o,l){var a,u,s,f,c,h,v=t.find((function(n){return l>=n[0]}))||t[t.length-1];return r.map((function(t){var e=n(t),r=e.getFullYear(),i=e.getMonth(),o=e.getDate(),l=e.getHours(),m=e.getMinutes(),d=e.getSeconds(),p=r!=a&&v[2]||i!=u&&v[3]||o!=s&&v[4]||l!=f&&v[5]||m!=c&&v[6]||d!=h&&v[7]||v[1];return a=r,u=i,s=o,f=l,c=m,h=d,p(e)}))}}function In(n,t,e){return new Date(n,t,e)}function Vn(n,t){return t(n)}function Ln(n,t){return function(e,r){return t(n(r))}}var Bn=[0,0],On={show:!0,x:!0,y:!0,lock:!1,move:function(n,t,e){return Bn[0]=t,Bn[1]=e,Bn},points:{show:function(n,t){var e=n.series[t],r=nn();r.style.background=e.stroke||H;var i=ot(e.width,1),o=(i-1)/-2;return Q(r,W,i),Q(r,Y,i),Q(r,"marginLeft",o),Q(r,"marginTop",o),r}},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,_x:!1,_y:!1},focus:{prox:-1},locked:!1,left:-10,top:-10,idx:null,dataIdx:function(n,t,e){return e}},Rn={show:!0,stroke:"rgba(0,0,0,0.07)",width:2,filter:x},Un=_({},Rn,{size:10}),jn='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',Jn="bold "+jn,Gn={show:!0,scale:"x",space:50,gap:5,size:50,labelSize:30,labelFont:Jn,side:2,grid:Rn,ticks:Un,font:jn,rotate:0},Zn={show:!0,scale:"x",auto:!1,sorted:1,min:m,max:-1/0,idxs:[]};function qn(n,t){return t.map((function(n){return null==n?"":r(n)}))}function Xn(n,t,e,r,i,o,l){for(var a=[],u=k.get(i),s=e=l?e:+w(e,i).toFixed(u);r>=s;s=+(s+i).toFixed(u))a.push(s);return a}function Kn(n,t,e,r,i){var o=[];i=c(10,l(h(e)));var a=e;do{o.push(a),10*i>(a=+(a+i).toFixed(k.get(i)))||(i=a)}while(r>=a);return o}var Qn=/./,$n=/[12357]/,nt=/[125]/,tt=/1/;function et(n,t,e){var r=n.axes[e],i=r.scale,o=n.valToPos,l=r.space(),a=o(10,i),u=o(9,i)-a<l?o(7,i)-a<l?o(5,i)-a<l?tt:nt:$n:Qn;return t.map((function(n){return u.test(n)?n:null}))}function rt(n,t){return r(t)}var it={show:!0,scale:"y",space:30,gap:5,size:50,labelSize:30,labelFont:Jn,side:3,grid:Rn,ticks:Un,font:jn,rotate:0};function ot(n,t){return y((3+2*(n||1))*t)}function lt(n,t){var e=n.scales[n.series[t].scale];return 3==e.distr?e.min:0}var at={scale:"y",auto:!0,sorted:0,show:!0,band:!1,spanGaps:!1,alpha:1,points:{show:function(n,t){var e=ot(n.series[t].width,q),r=n.series[0].idxs;return n.bbox.width/e/2>=r[1]-r[0]}},values:null,min:m,max:-1/0,idxs:[],path:null,clip:null},ut={time:!0,auto:!0,distr:1,min:null,max:null},st=_({},ut,{time:!1}),ft={};function ct(){var n=[];return{sub:function(t){n.push(t)},unsub:function(t){n=n.filter((function(n){return n!=t}))},pub:function(t,e,r,i,o,l,a){n.length>1&&n.forEach((function(n){n!=e&&n.pub(t,e,r,i,o,l,a)}))}}}function ht(n,t,e,r){return(r?[n[0],n[1]].concat(n.slice(2)):[n[0]].concat(n.slice(1))).map((function(n,r){return vt(n,r,t,e)}))}function vt(n,t,e,r){return _({},0==t||n&&n.side%2==0?e:r,n)}function mt(n,t){return 3==t.distr?h(n/t.min)/h(t.max/t.min):(n-t.min)/(t.max-t.min)}function dt(n,t,e,r){return r+(1-mt(n,t))*e}function pt(n,t,e,r){return r+mt(n,t)*e}function gt(n,t,e){return[t,e>t?e:e+86400]}function xt(n,t,r){return 0==r-t?e(t,r,0,!0):[t,r]}function wt(n,t,r){return e(t,r,.1,!0)}function bt(n,e,r){return t(e,r)}function yt(n,e,r){return t(e,r)}function Mt(n){return 0==n.button}function kt(n){var t;return[n=n.replace(/\d+/,(function(n){return t=a(n*q)})),t]}function St(t,e,r){var i={},u=i.root=nn("uplot");null!=t.id&&(u.id=t.id),X(u,t.class),t.title&&(nn("u-title",u).textContent=t.title);var b=$("canvas"),k=i.ctx=b.getContext("2d"),S=nn("u-wrap",u),D=nn("u-under",S);S.appendChild(b);var en=nn("u-over",S);((t=E(t)).plugins||[]).forEach((function(n){n.opts&&(t=n.opts(i,t)||t)}));var ln=!1,an=i.series=ht(t.series||[],Zn,at,!1),un=i.axes=ht(t.axes||[],Gn,it,!0),sn=i.scales=_({},{x:ut,y:st},t.scales),fn=_({x:a(it.size/2),y:a(Gn.size/3)},t.gutters),cn=t.tzDate||function(n){return new Date(1e3*n)},hn=t.fmtDate||mn,vn=function(n){return function(t,e,r,i,o,a){var u=[],s=o>=Mn&&kn>o,f=n(r),c=f/1e3,h=In(f.getFullYear(),f.getMonth(),s?1:f.getDate()),v=h/1e3;if(s)for(var m=o/Mn,d=c==v?c:In(h.getFullYear(),h.getMonth()+m,1)/1e3,p=new Date(1e3*d),g=p.getFullYear(),x=p.getMonth(),b=0;i>=d;b++){var k=In(g,x+m*b,1);(d=(+k+(k-n(k/1e3)))/1e3)>i||u.push(d)}else{var S=yn>o?o:yn,T=v+(l(r)-l(c))+w(c-v,S);u.push(T);for(var D=n(T),E=D.getHours()+D.getMinutes()/60+D.getSeconds()/bn,_=o/bn,W=a/t.axes[e].space();(T=y(T+o))<=i;)if(_>1){var Y=l(M(E+_))%24,z=n(T).getHours()-Y;z>1&&(z=-1),E=(E+_)%24,.7>y(((T-=z*bn)-u[u.length-1])/o)*W||u.push(T)}else u.push(T)}return u}}(cn),dn=Nn(cn,Tn(Pn,hn)),pn=Ln(cn,Vn("{YYYY}-{MM}-{DD} {h}:{mm}{aa}",hn)),gn={};for(var Dn in sn){var En=sn[Dn];null==En.min&&null==En.max||(gn[Dn]={min:En.min,max:En.max})}var _n,Wn,Yn=_({show:!0,live:!0},t.legend),zn=Yn.show,Fn=[],Cn=!1;if(zn){_n=$("table","u-legend",u);var An=an[1]?an[1].values:null;if(Cn=null!=An){var Hn=$("tr","u-thead",_n);for(var Bn in $("th",null,Hn),Wn=An(i,1,0))$("th",j,Hn).textContent=Bn}else Wn={_:0},X(_n,"u-inline"),Yn.live&&X(_n,"u-live")}var Rn=i.cursor=_({},On,t.cursor);Rn.points.show=g(Rn.points.show);var Un=i.focus=_({},t.focus||{alpha:.3},Rn.focus),jn=Un.prox>=0,Jn=[null];function Qn(n,t){var e=n.scale,r=sn[e]=_({},0==t?ut:st,sn[e]),o=r.time,l=3==r.distr;r.range=g(r.range||(o?gt:0==t?l?bt:xt:l?yt:wt));var a=n.value;if(n.value=o?function(n){return"string"==typeof n}(a)?Ln(cn,Vn(a,hn)):a||pn:a||rt,n.label=n.label||(o?"Time":"Value"),t>0){n.width=null==n.width?1:n.width,n.paths=n.paths||ie,n.fillTo=n.fillTo||lt;var u=ot(n.width,1);n.points=_({},{size:u,width:f(1,.2*u)},n.points),n.points.show=g(n.points.show),n._paths=null}if(zn&&Fn.splice(t,0,function(n,t){if(0==t&&(Cn||!Yn.live))return null;var e=[],r=$("tr","u-series",_n,_n.childNodes[t]);X(r,n.class),n.show||X(r,U);var i=$("th",null,r),o=nn("u-marker",i);n.width&&(o.style.borderColor=n.stroke),o.style.backgroundColor=n.fill;var l=nn(j,i);for(var a in l.textContent=n.label,t>0&&(rn("click",i,(function(t){Rn.locked||Mt(t)&&Me(an.indexOf(n),{show:!n.show},Je.setSeries)})),jn&&rn(V,i,(function(){Rn.locked||Me(an.indexOf(n),{focus:!0},Je.setSeries)}))),Wn){var u=$("td","u-value",r);u.textContent="--",e.push(u)}return e}(n,t)),Rn.show){var s=function(n,t){if(t>0){var e=Rn.points.show(i,t);if(e)return X(e,"u-cursor-pt"),X(e,n.class),tn(e,-10,-10,Et,_t),en.insertBefore(e,Jn[t]),e}}(n,t);s&&Jn.splice(t,0,s)}}i.addSeries=function(n,t){n=vt(n,t=null==t?an.length:t,Zn,at),an.splice(t,0,n),Qn(an[t],t)},i.delSeries=function(n){an.splice(n,1),zn&&Fn.splice(n,1)[0][0].parentNode.remove(),Jn.length>1&&Jn.splice(n,1)[0].remove()},an.forEach(Qn);var $n,nt=an[0].scale,tt=sn[nt].distr;for(var mt in sn){var St=sn[mt];null!=St.from&&(sn[mt]=_({},sn[St.from],St))}un.forEach((function(n){if(n.show){var t=sn[n.scale];null==t&&(n.scale=n.side%2?an[1].scale:nt,t=sn[n.scale]);var e=t.time;n.space=g(n.space),n.rotate=g(n.rotate),n.incrs=g(n.incrs||(2==t.distr?xn:e?Sn:wn)),n.splits=g(n.splits||(e&&1==t.distr?vn:3==t.distr?Kn:Xn));var r=n.values;n.values=e?T(r)?Nn(cn,Tn(r,hn)):r||dn:r||qn,n.filter=g(n.filter||(3==t.distr?et:x)),n.font=kt(n.font),n.labelFont=kt(n.labelFont)}}));var Tt,Dt,Et,_t,Wt,Yt,zt,Ft,Ct,At,Ht=null,Pt=null,Nt=an[0].idxs,It=null,Vt=!1;function Lt(n,t){if((n=n||[])[0]=n[0]||[],i.data=n,e=n.slice(),$n=(It=e[0]).length,2==tt&&(e[0]=It.map((function(n,t){return t}))),ae(),je("setData"),Vt=!0,!1!==t){var r=sn[nt];r.auto?Bt():ye(nt,r.min,r.max)}}function Bt(){var n,t;$n>0?(Ht=Nt[0]=0,Pt=Nt[1]=$n-1,n=2==tt?Ht:e[0][Ht],t=2==tt?Pt:e[0][Pt]):(Ht=Nt[0]=n=null,Pt=Nt[1]=t=null),ye(nt,n,t)}function Ot(n,t,e,r){k.strokeStyle=n||H,k.lineWidth=t,k.lineJoin="round",k.setLineDash(e||[]),k.fillStyle=r||H}function Rt(n,t){i.width=Tt=Et=n,i.height=Dt=_t=t,Wt=Yt=0,function(){var n=!1,t=!1,e=!1,r=!1;un.forEach((function(i){if(i.show){var o=i.side,l=o%2,a=i.size+(i.labelSize=null!=i.label?i.labelSize||30:0);a>0&&(l?(Et-=a,3==o?(Wt+=a,r=!0):e=!0):(_t-=a,0==o?(Yt+=a,n=!0):t=!0))}})),(n||t)&&(e||(Et-=fn.x),r||(Et-=fn.x,Wt+=fn.x)),(r||e)&&(t||(_t-=fn.y),n||(_t-=fn.y,Yt+=fn.y))}(),function(){var n=Wt+Et,t=Yt+_t,e=Wt,r=Yt;function i(i,o){switch(i){case 1:return(n+=o)-o;case 2:return(t+=o)-o;case 3:return(e-=o)+o;case 0:return(r-=o)+o}}un.forEach((function(n){var t=n.side;n._pos=i(t,n.size),null!=n.label&&(n._lpos=i(t,n.labelSize))}))}();var e=i.bbox;zt=e.left=d(Wt*q,.5),Ft=e.top=d(Yt*q,.5),Ct=e.width=d(Et*q,.5),At=e.height=d(_t*q,.5),Q(D,C,Wt),Q(D,z,Yt),Q(D,W,Et),Q(D,Y,_t),Q(en,C,Wt),Q(en,z,Yt),Q(en,W,Et),Q(en,Y,_t),Q(S,W,Tt),Q(S,Y,Dt),b.width=a(Tt*q),b.height=a(Dt*q),Ae(),ln&&ye(nt,sn[nt].min,sn[nt].max),ln&&je("setSize")}function Ut(){if(De)_e=!0;else{var t=E(sn);for(var r in t){var o=t[r],l=gn[r];if(null!=l)_(o,l),r==nt&&ae();else if(r!=nt)if(0==$n&&null==o.from){var a=o.range(i,null,null,r);o.min=a[0],o.max=a[1]}else o.min=m,o.max=-1/0}if($n>0)for(var u in an.forEach((function(r,o){var l=r.scale,a=t[l];if(0==o){var u=a.range(i,a.min,a.max,l);a.min=u[0],a.max=u[1],Ht=n(a.min,e[0]),Pt=n(a.max,e[0]),a.min>e[0][Ht]&&Ht++,e[0][Pt]>a.max&&Pt--,r.min=It[Ht],r.max=It[Pt]}else if(r.show&&null==gn[l]){var c=r.min==m?a.auto&&r.auto?function(n,t,e,r){var i=m,o=-1/0;if(1==r)i=n[t],o=n[e];else if(-1==r)i=n[e],o=n[t];else for(var l=t;e>=l;l++)null!=n[l]&&(i=s(i,n[l]),o=f(o,n[l]));return[i,o]}(e[o],Ht,Pt,r.sorted):[null,null]:[r.min,r.max];a.min=s(a.min,r.min=c[0]),a.max=f(a.max,r.max=c[1])}r.idxs[0]=Ht,r.idxs[1]=Pt})),t){var c=t[u];if(null==c.from&&c.min!=m&&null==gn[u]){var h=c.range(i,c.min,c.max,u);c.min=h[0],c.max=h[1]}}for(var v in t){var d=t[v];if(null!=d.from){var p=t[d.from];if(p.min!=m){var g=d.range(i,p.min,p.max,v);d.min=g[0],d.max=g[1]}}}var x={};for(var w in t){var b=t[w],y=sn[w];y.min==b.min&&y.max==b.max||(y.min=b.min,y.max=b.max,x[w]=!0)}for(var M in an.forEach((function(n){x[n.scale]&&(n._paths=null)})),x)je("setScale",M);for(var k in gn)gn[k]=null;Rn.show&&Fe()}}i.setData=Lt,i.bbox={},i.setSize=function(n){Rt(n.width,n.height)};var jt,Jt,Gt,Zt,qt,Xt,Kt,Qt,$t,ne,te,ee=1;function re(n,t,e){var r=n[n.length-1];r&&r[0]==t?r[1]=e:n.push([t,e])}function ie(n,t,r,i){var o,l,u=an[t],c=e[0],h=e[t],v=sn[nt],d=sn[u.scale],p=1==ee?{stroke:new Path2D,fill:null,clip:null}:an[t-1]._paths,g=p.stroke,x=y(u.width*q),w=m,b=-1/0,M=[],k=a(pt(c[1==ee?r:i],v,Ct,zt));u.band&&1==ee&&r==Ht&&(x&&g.lineTo(-x,a(dt(h[r],d,At,Ft))),c[0]>v.min&&M.push([zt,k-1]));for(var S=1==ee?r:i;S>=r&&i>=S;S+=ee){var T=a(pt(c[S],v,Ct,zt));if(T==k)null!=h[S]&&(o=a(dt(h[S],d,At,Ft)),w=s(o,w),b=f(o,b));else{var D=!1;w!=m?(g.lineTo(k,w),g.lineTo(k,b),g.lineTo(k,o),l=k):D=!0,null!=h[S]?(o=a(dt(h[S],d,At,Ft)),g.lineTo(T,o),w=b=o,T-k>1&&null==h[S-1]&&(D=!0)):(w=m,b=-1/0),D&&re(M,l,T),k=T}}if(null==h[i]&&re(M,l,k),u.band){var E,_,W=100*x;-1==ee&&r==Ht&&(_=zt-W,E=r),1==ee&&i==Pt&&(_=zt+Ct+W,E=i,v.max>c[$n-1]&&M.push([k,zt+Ct])),g.lineTo(_,a(dt(h[E],d,At,Ft)))}if(1==ee&&(p.clip=function(n,t,e,r){var i=null;if(t.length>0){if(an[n].spanGaps){var o=t[0],l=t[t.length-1];t=[],e&&t.push(o),r&&t.push(l)}i=new Path2D;for(var a=zt,u=0;t.length>u;u++){var s=t[u];i.rect(a,Ft,s[0]-a,Ft+At),a=s[1]}i.rect(a,Ft,zt+Ct-a,Ft+At)}return i}(t,M,null==h[r],null==h[i]),null!=u.fill)){var Y=p.fill=new Path2D(g),z=a(dt(u.fillTo(n,t,u.min,u.max),d,At,Ft));Y.lineTo(zt+Ct,z),Y.lineTo(zt,z)}return u.band&&(ee*=-1),p}function oe(n,t,e,r){var o,l=un[n];if(r>0){var a=l.space(i,n,t,e,r);o=function(n,t,e,r,i){for(var o=r/(t-n),l=0;e.length>l;l++){var a=e[l]*o;if(a>=i&&n+e[l]>n)return[e[l],a]}}(t,e,l.incrs(i,n,t,e,r,a),r,a)}else o=[0,0];return o}function le(n,t,e,r,i,o,l,a,u){var s=l%2/2;k.translate(s,s),Ot(a,l,u),k.beginPath();var f,c,h,v,m=i+(0==r||3==r?-o:o);0==e?(c=i,v=m):(f=i,h=m),n.forEach((function(n,r){null!=t[r]&&(0==e?f=h=n:c=v=n,k.moveTo(f,c),k.lineTo(h,v))})),k.stroke(),k.translate(-s,-s)}function ae(){an.forEach((function(n,t){t>0&&(n.min=m,n.max=-1/0,n._paths=null)}))}function ue(){De?Ee=!0:(k.clearRect(0,0,b.width,b.height),je("drawClear"),function(){un.forEach((function(n,t){if(n.show){var e=sn[n.scale];if(e.min!=m){var r=n.side,o=r%2,l=e.min,u=e.max,s=oe(t,l,u,0==o?Et:_t),f=s[0],c=s[1],h=n.splits(i,t,l,u,f,c,2==e.distr),d=0==o?pt:dt,p=0==o?Ct:At,g=0==o?zt:Ft,x=h.map((function(n){return a(d(n,e,p,g))})),w=a(n.gap*q),b=n.ticks,M=b.show?a(b.size*q):0,S=2==e.distr?h.map((function(n){return It[n]})):h,T=2==e.distr?It[h[1]]-It[h[0]]:f,D=n.values(i,n.filter(i,S,t,c,T),t,c,T),E=2==r?n.rotate(i,D,t,c)*-v/180:0,_=a(n._pos*q),W=_+(M+w)*(0==o&&0==r||1==o&&3==r?-1:1),Y=0==o?W:0,P=1==o?W:0;k.font=n.font[0],k.fillStyle=n.stroke||H,k.textAlign=E>0?C:0>E?A:0==o?"center":3==r?A:C,k.textBaseline=E||1==o?"middle":2==r?z:F;var N=1.5*n.font[1];if(D.forEach((function(n,t){null!=n&&(0==o?P=x[t]:Y=x[t],(""+n).split(/\n/gm).forEach((function(n,t){E?(k.save(),k.translate(P,Y+t*N),k.rotate(E),k.fillText(n,0,0),k.restore()):k.fillText(n,P,Y+t*N)})))})),n.label){k.save();var I=a(n._lpos*q);1==o?(P=Y=0,k.translate(I,a(Ft+At/2)),k.rotate((3==r?-v:v)/2)):(P=a(zt+Ct/2),Y=I),k.font=n.labelFont[0],k.textAlign="center",k.textBaseline=2==r?z:F,k.fillText(n.label,P,Y),k.restore()}b.show&&le(x,b.filter(i,S,t,c,T),o,r,_,M,y(b.width*q),b.stroke);var V=n.grid;V.show&&le(x,V.filter(i,S,t,c,T),o,0==o?2:1,0==o?Ft:zt,0==o?At:Ct,y(V.width*q),V.stroke,V.dash)}}})),je("drawAxes")}(),$n>0&&function(){an.forEach((function(n,t){if(t>0&&n.show&&null==n._paths){var r=function(n){for(var t=p(Ht-1,0,$n-1),e=p(Pt+1,0,$n-1);null==n[t]&&t>0;)t--;for(;null==n[e]&&$n-1>e;)e++;return[t,e]}(e[t]);n._paths=n.paths(i,t,r[0],r[1])}})),an.forEach((function(n,t){t>0&&n.show&&(n._paths&&function(n){var t=an[n];if(1==ee){var e=t._paths,r=e.stroke,i=e.fill,o=e.clip,l=y(t.width*q),a=l%2/2;Ot(t.stroke,l,t.dash,t.fill),k.globalAlpha=t.alpha,k.translate(a,a),k.save();var u=zt,s=Ft,f=Ct,c=At,h=l*q/2;0==t.min&&(c+=h),0==t.max&&(s-=h,c+=h),k.beginPath(),k.rect(u,s,f,c),k.clip(),null!=o&&k.clip(o),t.band?(k.fill(r),l&&k.stroke(r)):(l&&k.stroke(r),null!=t.fill&&k.fill(i)),k.restore(),k.translate(-a,-a),k.globalAlpha=1}t.band&&(ee*=-1)}(t),n.points.show(i,t,Ht,Pt)&&function(n){var t=an[n],r=t.points,i=y(r.width*q),o=i%2/2,l=r.width>0,u=(r.size-r.width)/2*q,s=y(2*u);k.translate(o,o),k.save(),k.beginPath(),k.rect(zt-s,Ft-s,Ct+2*s,At+2*s),k.clip(),k.globalAlpha=t.alpha;for(var f=new Path2D,c=Ht;Pt>=c;c++)if(null!=e[n][c]){var h=a(pt(e[0][c],sn[nt],Ct,zt)),m=a(dt(e[n][c],sn[t.scale],At,Ft));f.moveTo(h+u,m),f.arc(h,m,u,0,2*v)}Ot(r.stroke||t.stroke||H,i,null,r.fill||(l?"#fff":t.stroke||H)),k.fill(f),l&&k.stroke(f),k.globalAlpha=1,k.restore(),k.translate(-o,-o)}(t),je("drawSeries",t))}))}(),jt=!0,je("draw"))}function se(t,r){var o=sn[t];if(null==o.from){if(0==$n){var l=o.range(i,r.min,r.max,t);r.min=l[0],r.max=l[1]}if(t==nt&&(2==o.distr&&$n>0&&(r.min=n(r.min,e[0]),r.max=n(r.max,e[0])),o.time&&un[0].show&&r.max>r.min&&.001>oe(0,r.min,r.max,Et)[0]))return;if($n>1&&1e-16>r.max-r.min)return;gn[t]=r,jt=!1,Ut(),!jt&&ue(),jt=!1}}i.redraw=function(n){!1!==n?ye(nt,sn[nt].min,sn[nt].max):ue()},i.setScale=se;var fe=!1,ce=Rn.drag,he=ce.x,ve=ce.y;Rn.show&&(Rn.x&&(ne=Rn.left,Jt=nn("u-cursor-x",en)),Rn.y&&(te=Rn.top,Gt=nn("u-cursor-y",en)));var me,de,pe,ge=i.select=_({show:!0,over:!0,left:0,width:0,top:0,height:0},t.select),xe=ge.show?nn("u-select",ge.over?en:D):null;function we(n,t){if(ge.show){for(var e in n)Q(xe,e,ge[e]=n[e]);!1!==t&&je("setSelect")}}function be(n){var t=zn?Fn[n][0].parentNode:null;an[n].show?t&&K(t,U):(t&&X(t,U),Jn.length>1&&tn(Jn[n],-10,-10,Et,_t))}function ye(n,t,e){se(n,{min:t,max:e})}function Me(n,t,e){var r=an[n];if(null!=t.focus&&function(n){n!=pe&&(an.forEach((function(t,e){!function(n,t){var e=an[n];ke(n,t),e.band&&ke(an[n+1].band?n+1:n-1,t)}(e,null==n||0==e||e==n?1:Un.alpha)})),pe=n,ue())}(n),null!=t.show){if(r.show=t.show,be(n),r.band){var o=an[n+1]&&an[n+1].band?n+1:n-1;an[o].show=r.show,be(o)}ye(nt,sn[nt].min,sn[nt].max)}je("setSeries",n,t),e&&Ze.pub("setSeries",i,n,t)}function ke(n,t){an[n].alpha=t,Rn.show&&Jn[n]&&(Jn[n].style.opacity=t),zn&&Fn[n]&&(Fn[n][0].parentNode.style.opacity=t)}function Se(n,t){var e=Et;t!=nt&&(n=(e=_t)-n);var r=n/e,i=sn[t],o=i.min,l=i.max;return 3==i.distr?(o=h(o),l=h(l),c(10,o+(l-o)*r)):o+(l-o)*r}function Te(t){return n(Se(t,nt),e[0],Ht,Pt)}i.setSelect=we,i.setSeries=Me,zn&&jn&&rn(L,_n,(function(){Rn.locked||(Me(null,{focus:!1},Je.setSeries),Fe())})),i.valToIdx=function(t){return n(t,e[0])},i.posToIdx=Te,i.posToVal=Se,i.valToPos=function(n,t,e){return t==nt?pt(n,sn[t],e?Ct:Et,e?zt:0):dt(n,sn[t],e?At:_t,e?Ft:0)};var De=!1,Ee=!1,_e=!1,We=!1;function Ye(n){De=!0,n(i),De=!1,_e&&Ut(),We&&Fe(),Ee&&!jt&&ue(),_e=We=Ee=jt=De}i.batch=Ye,i.setCursor=function(n){ne=n.left,te=n.top,Fe()};var ze=0;function Fe(n,t){var r;if(De)We=!0;else{var l;if(ze=0,Qt=ne,$t=te,r=Rn.move(i,ne,te),ne=r[0],te=r[1],Rn.show&&(Rn.x&&tn(Jt,a(ne),0,Et,_t),Rn.y&&tn(Gt,0,a(te),Et,_t)),me=m,0>ne||0==$n||Ht>Pt){l=null;for(var u=0;an.length>u;u++)if(u>0&&Jn.length>1&&tn(Jn[u],-10,-10,Et,_t),zn&&Yn.live){if(0==u&&Cn)continue;for(var f=0;Fn[u].length>f;f++)Fn[u][f].firstChild.nodeValue="--"}jn&&Me(null,{focus:!0},Je.setSeries)}else{l=Te(ne);for(var c=sn[nt],h=y(pt(e[0][l],c,Et,0)),v=0;an.length>v;v++){var d=an[v],p=Rn.dataIdx(i,v,l),g=p==l?h:y(pt(e[0][p],c,Et,0));if(v>0&&d.show){var x=e[v][p],w=null==x?-10:y(dt(x,sn[d.scale],_t,0));if(w>0){var b=o(w-te);b>me||(me=b,de=v)}Jn.length>1&&tn(Jn[v],g,w,Et,_t)}if(zn&&Yn.live){if(p==Rn.idx&&!Vt||0==v&&Cn)continue;var M=0==v&&2==tt?It:e[v],k=Cn?d.values(i,v,p):{_:d.value(i,M[p],v,p)},S=0;for(var T in k)Fn[v][S++].firstChild.nodeValue=k[T]}}Vt=!1}if(ge.show&&fe)if(null!=t){var D=Je.scales,E=D[0],_=D[1],F=t.cursor.drag;if(he=F._x,ve=F._y,E){var A=sn[E],H=t.posToVal(t.select.left,E),N=t.posToVal(t.select.left+t.select.width,E);ge.left=pt(H,A,Et,0),ge.width=o(ge.left-pt(N,A,Et,0)),Q(xe,C,ge.left),Q(xe,W,ge.width),_||(Q(xe,z,ge.top=0),Q(xe,Y,ge.height=_t))}if(_){var I=sn[_],V=t.posToVal(t.select.top,_),L=t.posToVal(t.select.top+t.select.height,_);ge.top=dt(V,I,_t,0),ge.height=o(ge.top-dt(L,I,_t,0)),Q(xe,z,ge.top),Q(xe,Y,ge.height),E||(Q(xe,C,ge.left=0),Q(xe,W,ge.width=Et))}}else{var B=o(Qt-Zt),O=o($t-qt);he=ce.x&&B>=ce.dist,ve=ce.y&&O>=ce.dist;var R=ce.uni;if(null!=R?he&&ve&&(ve=O>=R,(he=B>=R)||ve||(O>B?ve=!0:he=!0)):ce.x&&ce.y&&(he||ve)&&(he=ve=!0),he){var U=s(Xt,ne),j=o(ne-Xt);Q(xe,C,ge.left=U),Q(xe,W,ge.width=j),ve||(Q(xe,z,ge.top=0),Q(xe,Y,ge.height=_t))}if(ve){var J=s(Kt,te),G=o(te-Kt);Q(xe,z,ge.top=J),Q(xe,Y,ge.height=G),he||(Q(xe,C,ge.left=0),Q(xe,W,ge.width=Et))}he||ve||(Q(xe,Y,ge.height=0),Q(xe,W,ge.width=0))}Rn.idx=l,Rn.left=ne,Rn.top=te,ce._x=he,ce._y=ve,null!=n&&(Ze.pub(P,i,ne,te,Et,_t,l),jn&&Me(me>Un.prox?null:de,{focus:!0},Je.setSeries)),ln&&je("setCursor")}}var Ce=null;function Ae(){Ce=en.getBoundingClientRect()}function He(n,t,e,r,i,o){Rn.locked||(Pe(n,t,e,r,i,o,0,!1,null!=n),null!=n?0==ze&&(ze=J(Fe)):Fe(null,t))}function Pe(n,t,e,r,o,l,a,u,s){var f;if(null!=n)e=n.clientX-Ce.left,r=n.clientY-Ce.top;else{if(0>e||0>r)return ne=-10,void(te=-10);var c=Je.scales,h=c[0],v=c[1];e=null!=h?pt(t.posToVal(e,h),sn[h],Et,0):Et*(e/o),r=null!=v?dt(t.posToVal(r,v),sn[v],_t,0):_t*(r/l)}s&&(e>1&&Et-1>e||(e=d(e,Et)),r>1&&_t-1>r||(r=d(r,_t))),u?(Zt=e,qt=r,f=Rn.move(i,e,r),Xt=f[0],Kt=f[1]):(ne=e,te=r)}function Ne(){we({width:0,height:0},!1)}function Ie(n,t,e,r,o,l){(null!=t||Mt(n))&&(fe=!0,he=ve=ce._x=ce._y=!1,Pe(n,t,e,r,o,l,0,!0,!1),null!=n&&(rn(I,G,Ve),Ze.pub(N,i,Xt,Kt,Et,_t,null)))}function Ve(n,t,e,r,o,l){if(null!=t||Mt(n)){fe=ce._x=ce._y=!1,Pe(n,t,e,r,o,l,0,!1,!0);var a=ge.width>0||ge.height>0;a&&we(ge),ce.setScale&&a?(Ye((function(){if(he&&ye(nt,Se(ge.left,nt),Se(ge.left+ge.width,nt)),ve)for(var n in sn)n!=nt&&null==sn[n].from&&ye(n,Se(ge.top+ge.height,n),Se(ge.top,n))})),Ne()):Rn.lock&&(Rn.locked=!Rn.locked,Rn.locked||Fe())}null!=n&&(on(I,G,Ve),Ze.pub(I,i,ne,te,Et,_t,null))}function Le(){if(!Rn.locked){var n=fe;if(fe){var t=!0,e=!0;if(he&&ve&&(t=10>=ne||ne>=Et-10,e=10>=te||te>=_t-10),he&&t){var r=ne,i=Et-ne,o=s(r,i);o==r&&(ne=0),o==i&&(ne=Et)}if(ve&&e){var l=te,a=_t-te,u=s(l,a);u==l&&(te=0),u==a&&(te=_t)}Fe(1),fe=!1}ne=-10,te=-10,Fe(1),n&&(fe=n)}}function Be(n){Bt(),Ne(),null!=n&&Ze.pub(B,i,ne,te,Et,_t,null)}var Oe,Re={};Re.mousedown=Ie,Re.mousemove=He,Re.mouseup=Ve,Re.dblclick=Be,Re.setSeries=function(n,t,e,r){Me(e,r)},Rn.show&&(rn(N,en,Ie),rn(P,en,He),rn(V,en,Ae),rn(L,en,(function(){J(Le)})),rn(B,en,Be),Oe=function(n){var t=null;function e(){t=null,n()}return function(){clearTimeout(t),t=setTimeout(e,100)}}(Ae),rn(O,Z,Oe),rn(R,Z,Oe),i.syncRect=Ae);var Ue=i.hooks=t.hooks||{};function je(n,t,e){n in Ue&&Ue[n].forEach((function(n){n.call(null,i,t,e)}))}(t.plugins||[]).forEach((function(n){for(var t in n.hooks)Ue[t]=(Ue[t]||[]).concat(n.hooks[t])}));var Je=_({key:null,setSeries:!1,scales:[nt,null]},Rn.sync),Ge=Je.key,Ze=null!=Ge?ft[Ge]=ft[Ge]||ct():ct();function qe(){Rt(t.width,t.height),je("init",t,e),Lt(e||t.data,!1),gn[nt]?se(nt,gn[nt]):Bt(),we(ge,!1),ln=!0,je("ready")}return Ze.sub(i),i.pub=function(n,t,e,r,i,o,l){Re[n](null,t,e,r,i,o,l)},i.destroy=function(){Ze.unsub(i),on(O,Z,Oe),on(R,Z,Oe),u.remove(),je("destroy")},r?r instanceof HTMLElement?(r.appendChild(u),qe()):r(i,qe):qe(),i}return St.assign=_,St.fmtNum=r,St.rangeNum=e,St.rangeLog=t,St.fmtDate=mn,St.tzDate=function(n,t){var e;return"Etc/UTC"==t?e=new Date(+n+6e4*n.getTimezoneOffset()):t==dn?e=n:(e=new Date(n.toLocaleString("en-US",{timeZone:t}))).setMilliseconds(n.getMilliseconds()),e},St}();
